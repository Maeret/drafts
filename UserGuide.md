
# Система видеонаблюдения "AlterVision". Руководство пользователя

# 1 Введение
## 1.1  Область применения

АИС "AlterVision" предназначена для информационного обеспечения процессов безопасности на любом объекте, оборудованном камерами видеонаблюдения. АИС – это система распознавания лиц: она автоматически создаёт и сохраняет в единый реестр снимки с камер наблюдения и сопоставляет их с реестром посетителей охраняемого объекта. Это позволяет службе безопасности предприятия установить точное время, в которое посетитель или его ТС (транспортное средство) попало в зону обзора камеры.

Для начала работы с установленной АИС необходима как минимум одна камера видеонаблюдения, соответствующая требованиям (2.1). Поэтому АИС может использоваться как в коммерческих, так и государственных или общественных предприятиях.

## 1.2 Краткое описание возможностей

АИС позволяет управлять системой камер наблюдения. Система:
* автоматически создаёт снимок с камеры наблюдения, как только лицо посетителя попадает в поле обзора камеры;
* автоматически создаёт снимок с камеры наблюдения, как только номер ТС попадает в поле обзора;
* сохраняет все автоматические снимки камер наблюдения в едином реестре;
* позволяет создавать и редактировать профили сотрудников организаций охраняемого объекта, чтобы система могла распознать их на снимках;
* распознаёт сотрудников (и их ТС) на снимках.

Дополнительные возможности:
* посетителям объекта могут создавать профили через гостевой терминал. После этого АИС распознаёт посетителей на снимках так же, как и сотрудников организаций;
* видеозаписи с камер видеонаблюдения сохраняются в архив.

## 1.3 Пользовательские роли и уровень подготовки пользователя

Для эксплуатации АИС "AlterVision" определены роли:
— Администратор;
— Оператор (сотрудник организации охраняемого объекта);
– Гость.

Администратор должен обладать соответствующим уровнем квалификации для того, чтобы:
— Создавать в АИС профили организаций и операторов охраняемого объекта;
– Разрабатывать политики доступа операторов к АИС;
– Предоставлять операторам доступ к АИС (логин и пароль);
— Отлеживать работоспособность АИС, базового программного обеспечения и работоспособность камер наблюдения;
– Связываться с разработчиком АИС "AlterVision" для подключения новых камер наблюдения к АИС.

Оператор должен свободно осуществлять стандартные операции:
– Отслеживать события в АИС и предоставлять другим сотрудникам своей организации доступ к этой информации по запросу.
– Поиск сотрудников в реестре пользователей.

Роль Гостя нужна, чтобы посетители охраняемого объекта могли самостоятельно создавать свои профили в системе (добавлять фото, указывать личные данные и компанию) при помощи терминала с установленной АИС "AlterVision". Для взаимодействия с системой Гостю не требуется специальных знаний и знакомства с настоящим руководством – подсказки предусмотрены в интерфейсе.

## 1.4 Перечень эксплуатационной документации

* АИС "AlterVision" Руководство пользователя.

# 2. Технические требования к дополнительным устройствам для подключения к АИС "AlterVision"

Для начала работы с установленной АИС необходима как минимум одна камера видеонаблюдения.

Гостевой терминал не требуется для установки системы, но позволяют раширить функционал: через терминал Гости могут самостоятельно создавать профили Пользователя – так система сможет распознать снимки с ними и сохранить их.

## 2.1 Камеры видеонаблюдения

Для подключения к системе новой камеры видеонаблюдения Администратор связывается с разработчиком АИС по контактам, указанным в договоре.

Минимальные технические характеристики камеры, которую можно подключить:
- Разрешение: 1920x1080;
- Протокол подключения: rtsp;
- Подключение к сети: через ethernet;
- Частота: 30 кадров в секунду;
- ИК подсветка ночная.

## 2.2 Гостевые терминалы

Гостевой терминал – это набор оборудования (сенсорный инфорационный киоск, камера, сканер паспорта) для дополнительных  функционала АИС.

Здесь приведены минимальные технические характеристики дополнительного оборудования, которое понадобится для подключения АИС. Для подключения оборудования и установки системы, заказчику АИС нужно связаться с разработчиком по контактам, указанным в договоре.

*Киоск информационный сенсорный:*
- Материнская плата ASROCK H310CM-HDV.
- Процессор INTEL Celeron G4930, LGA 1151v2, OEM.
- Оперативная память DDR4 - 4ГБ.
- 120 ГБ SSD накопитель.

*USB-камера (UVC):*
- Разрешение: 1920x1080;
- Протокол USB 2.0;

*Сканер паспорта 24 бит:*
- OCR ID сканер;
- Сенсорный акустический экран, 6 мм, 19";
- Кабель видеосигнала HDMI-HDMI.

# 3. Подготовка к работе и запуск системы.

## 3.1 Состав дистрибутива АИС "AlterVision" и устройство системы

1. Серверная часть АИС "AlterVision". Инсталлируется разработчиком АИС.
2. Клиентская часть не требует инсталляции. Доступ к клиентской части – через браузер.

## 3.2 Администратору / Оператору: подготовка к работе и запуск системы

Для входа в систему:
1. В адресную строку браузера ввести адрес http://46.47.208.110/
2. В появившемся окне указать данные для входа.

Логин / пароль Администратора указаны в договоре.
Логин / пароль Оператора устанавливаются Администратором в разделе «Создание профиля компании» (5).

# 4. Администратору: Камеры

В разделе «Камеры» пользователь может задать имя для каждой подключённой камеры, которое затем можно использовать в настройках профиля компаний (5) и профиля пользователя (6).

## 4.1 Условия подключения камеры к АИС

Для подключения установленной камеры к АИС нужно связаться с разработчиком АИС по контактам, указанным в договоре.
После подключения камера отображается в разделе «Камеры». Для подключённой камеры можно изменить название (4.2), чтобы затем быстрее найти её в настройках.

## 4.2 Администратору: Редактирование названия камеры

Администратор может изменить название камеры, чтобы затем использовать это название в настройках системы, например, в настройках профиля компании (5) или профиля пользователя (6).

Чтобы изменить название, нужно:
1. Перейти в раздел «Камеры»;
2. Выбрать камеру из списка подключённых;
3. Перейти к редактированию:
![редактирование названия камеры](redact.jpg)
4. Задать название камеры;
5. Подтвердить изменение – нажать «Редактировать».

# 5. Администратору: профиль компании

Профиль компании – это набор настроек учётной записи для Оператора, которые определяют:
* логин и пароль для учётной записи Оператора;
* набор камер, снимки с которых будут доступны Оператору в его профиле.

Для входа в систему Оператор использует логин и пароль, которые были созданы Администратором в этом разделе.

Оператор может видеть снимки только тех камер, которые подключены к профилю компании. Операторы других компаний (при входе в систему под своей учётной записью) не будут видеть снимки с камер, которые не привязаны к профилю компании Администратором.

Только после создания компании можно добавлять Пользователей для того, чтобы система могла распознавать их на снимках в дальнейшем.

## 5.1 Условия создания профиля компании

Для создания профиля компании необходима хотя бы одна камера, подключённая к системе (4).

## 5.2 Создание профиля компании

Чтобы создать профиль компании, нужно:
1. Перейти в раздел «Компании».
2. Задать имя компании.
3. Выбрать камеры из списка «Все камеры» и нажать стрелку:
    ![выбор камер](cameras.jpg)
Выбранные камеры переместятся в список «Доступные этой компании».
4. Задать логин оператора. Логин Оператора нельзя изменить.
5. Задать пароль Оператора и подтвердить его.
5. Подтвердить создание профиля – нажать «Создать».

Теперь Оператор может зайти в систему под заданным паролем.
После создания компания отобразится в списке.

Чтобы отредактировать имя компании, пароль оператора и список доступных камер, нужно нажать на иконку редактирования напротив копании в списке:
   ![выбор камер](redact.jpg)

# 6. Администратору: пользовательские роли

Пользовательская Роль определяет, какие камеры, подключённые в профиле компании, будут распознавать (8.1) посетителя, а какие – нет.

- Пользователь отображается только на снимках тех камер, которые привязаны к пользовательской роли. Назначить пользователю роль можно на шаге 7 (Администратору: создание пользователя).
- Если посетитель из списка «Пользователи» попал на снимок камеры, которая не привязана к его пользовательской роли, то камера не распознает его (в «Ленте событий» снимок с ним будет отображаться как «Не найден») – как если бы этого посетителя не было в списке пользователей.
- Роль можно назначить только пользователям конкретной компании – одна пользовательская роль не может быть назначена пользователям из разных компаний.

После подключения новых камер к системе, их нужно будет последовательно добавить сначала в профиль компании (5.2), а затем – в уже созданные роли.

## 6.1 Условия создания пользовательской роли

Для создания пользовательской роли необходимо создать профиль компании (5).

## 6.2 Создание пользовательской роли

Чтобы создать Роль, нужно:
1. Перейти в раздел «Роли пользователей».
2. Задать имя роли.
3. Выбрать камеры из списка «Все камеры» и нажать стрелку (Рис.) – выбранные камеры переместятся в список «Доступные этой роли».
    1. Чтобы добавить к роли все камеры, доступные компании, нужно нажать на галочку (Рис.) Такую Роль можно назначать Пользователям из «Списка пользователей» по умолчанию, чтобы все камеры компании распознавали их.
4. Подтвердить создание роли – нажать «Создать».

После создания Роль отобразится в списке.

Чтобы отредактировать имя Роли и список доступных камер, нужно нажать на иконку редактирования напротив имени роли в списке:
    ![редактирование](redact.jpg)

# 7. Администратору: Пользователи

Пользователь – это набор данных посетителя или гостя, нужных системе, чтобы распознать снимки с камер в Ленте машин () и Ленте событий (). Каждый профиль пользователя содержит поля, в разделах 7.1.1 - 7.1.2.

## 7.1 Условия создания пользователя

Чтобы начать добавлять пользователей в список, нужно создать хотя бы одну пользовательскую Роль (6.2).

Пользователя может создать (добавить в список «Пользователи»):
– Администратор в разделе «Пользователи». Профиль пользователя хранится в «Списке пользователей» до тех пор, пока администратор не удалит их.
– Гости – профиль создаётся Гостем через гостевой терминал. После этого профиль пользователя добавляется в список «Пользователи» и хранится в нём до тех пор, пока Администратор не удалит его.

Для создания Пользователя необходимо заполнить обязательные поля формы. При создании Пользователя через гостевой терминал, АИС автоматически заполняет данные профиля Пользователя.

### 7.1.1 Профиль пользователя. Компания

Обязательное поле. Необходимо для того, чтобы:
1. Указанная Компания отображалась в распознанных снимках «Ленты событий» (8.1).
2. Только камеры, указанные Администратором в профиле Компании (5.2), распознавали посетителя (8.1).

По Компании Оператор и Администратор могут искать профиль Пользователя (7.8) в «Списке пользователей».

### 7.1.2 Профиль пользователя. Фото

*Обязательное поле.* Необходимо, чтобы АИС могла идентифицировать посетителя на снимках камеры.

При создании профиля Администратором, фото должно соответствовать требованиям:
- На фото должно быть чёткое изображением лица строго в анфас.
- Минимальный размер лица на фото 120x120 пикселей.
- Допустимые форматы файла с фото: PNG, JPEG.

При создании профиля Гостем камера терминала с установленной АИС создаёт его фото в требуемом формате и с необходимым разрешением.

### 7.1.3 Профиль пользователя. Фамилия и Имя

*Обязательные поля.* Необходимы для того, чтобы указанные данные отображались в распознанных снимках «Ленты событий» (8.1). По Имени и Фамилии Оператор и Администратор могут искать профиль пользователя (7.8) в «Списке пользователей».

### 7.1.4 Профиль пользователя. Должность

Необязательное поле. Необходимо для того, чтобы: указанная Должность отображалась в распознанных снимках «Ленты событий» (8.1). По данным, указанным в Должности, Оператор и Администратор могут искать профиль пользователя (7.8) в «Списке пользователей».

Профили пользователей, которые создают Гости, получают Должность «Гость».

### 7.1.5 Профиль пользователя. Роль

*Обязательное поле.* Необходимо для того, чтобы посетителя распознавали (8.1) только те камеры, которые указаны Администратором в Роли Компании (5.2).

Профили пользователей, которые создают Гости, получают Роль «Гость».

### 7.1.6 Профиль пользователя. Номер авто

Необязательное поле.
Необходимо для того, чтобы камеры могли распознавать номер ТС на снимках и сохранять это событие в «Ленте машин».

### 7.1.7 Профиль пользователя. Фото паспорта

Обязательное поле для профилей, которые создаются Гостями через гостевой терминал (2.2). Хранит ссылку на фото документа, удостоверяющего личность. Позволяет Администратору и Оператору просмотреть фото документа и сохранить его.

## 7.2 Администратору: cоздание, редактирование, удаление пользователя

Чтобы создать профиль Пользователя, нужно:
1. Перейти в раздел «Пользователи» и нажать на «+».
2. Выбрать Компанию из выпадающего списка.
3. Заполнить обязательные поля формы (см. 7.1.1 - 7.1.5). Если обязательное поле не заполнено, АИС выведет ошибку, и Пользователь не будет создан.
4. Подтвердить создание профиля – нажать «Создать».

Созданные Администратором профили Пользователей доступны Оператору только для просмотра (не для редактирования или удаления).

Удалить Пользователя из списка или отредактировать его данные может только Администратор. Для этого нужно нажать на иконку редактирования напротив Пользователя в списке:
![редактирование](redact.jpg)

## 7.3 Создание пользователя через гостевой терминал

Гости самостоятельно создают профиль Пользователя через гостевой терминал (2.2) с установленной АИС.

Чтобы создать профиль Пользователя, в гостевом терминале нужно:
1. Нажать «Пройти проверку».
2. Ввести фамилию и имя и подтвердить ввод.
3. Выбрать Компанию из списка.
4. Система предложит сделать фото. Гость может подтвердить создание фото или нажать «Переснять», чтобы заменить уже созданное фото.
3. В этом шаге нужно поднести к сканеру паспорта документ, удостоверяющий личность. АИС автоматически создаст снимок паспорта и сохранит его.

После этого профиль пользователя автоматически добавляется в список «Пользователей». Администратор может отредактировать данные такого профиля или удалить его.

## 7.8 Администратору / Оператору: Поиск пользователя

В разделе можно искать профили Пользователей, созданные гостями и Администратором по следующим данным:
1. Имя. Для поиска достаточно ввести один символ. АИС выведет список всех Пользователей, Имя которых содержит указанные символы.
2. Фамилия. Для поиска достаточно ввести один символ. АИС выведет список всех Пользователей, Фамилия которых содержит указанные символы.
3. Компания. Для поиска нужно выбрать одну или несколько Компаний из списка.
4. Должность. Для поиска достаточно ввести один символ. АИС выведет список всех Пользователей, Должность которых содержит указанные символы.

Если в АИС нет Пользователей, удовлетворяющих условиям поиска, в результатах поиска отображается ошибка. Можно очистить поиск и попробовать ввести другие данные в полях ли часть полей поиска

# 8 Администратору / Оператору: Лента событий

Лента событий – это реестр, в котором хранятся все снимки посетителей с камер наблюдения и предусмотрена возможность поиска по ним.

Для каждого снимка в Ленте событий отображается:
* имя камеры (4.2);
* Пользователь / Компания;
* дата и время создания снимка с точностью до секунд.

## 8.1 Условия создания События и распознания посетителя на снимке

Камеры наблюдения, подключенные к АИС, создают снимок (Событие), как только лицо посетителя попадает в поле камеры наблюдения.

Если снимок распознан, в поле «Пользователь» будет отображаться Имя и Фамилия(7.1.3), и Должность (7.1.4), которые указаны в профиле существующего Пользователя (7), а в поле «Компания» – Компания (7.1.1) этого Пользователя.
Распознание произойдёт, если соблюдены следующие условия:
1. Пользователь есть в списке «Пользователи» – для него создан профиль Администратором или Гостем через гостевой терминал.
2. Камера, которая сделала снимок, привязана к Компании этого Пользователя (5.2).
4. Камера, которая сделала снимок, привязана к Роли этого Пользователя (7.6).
Распознанные снимки получают статус «Известный» с возможностью поиска по ним.

Если снимок не распознан, в поле «Пользователь» будет отображаться «не найден». Это может произойти в нескольких ситуациях:
1. Пользователя нет в списке «Пользователи» – для него не создан профиль Администратором.
2. Камера, которая сделала снимок, не привязана к Компании этого Пользователя (5.2).
4. Камера, которая сделала снимок, не привязана к Роли этого Пользователя (7.6).
Нераспознанные снимки получают статус «Незвестный» с возможностью поиска по ним.

## 8.1 Администратору / Оператору: Поиск снимков в Ленте событий

В разделе «Лента событий» предусмотрено несколько режимов поиска.

### 8.1.1 Обычный поиск

Позволяет искать События по фильтрам поиска:
1. Дата и время. Для поиска нужно указать диапазон дат в выпадающем меню и подтвердить выбор («ОК»). АИС позволяет искать все снимки, сделанные камерами в указанное время с точностью до секунд.
2. Камера. Для поиска нужно выбрать одну или несколько Камер из списка.
3. Статус распознания снимка («Известный» / «Неизвестный» / «Любой»).
4. Компания. Для поиска нужно выбрать одну или несколько Компаний из списка.

### 8.1.1 Расширенный поиск по фото

Позволяет искать События по фото:

1. Фото. Для поиска нужно загрузить фото, на котором видно лицо анфас или в профиль в формате JPEG или PNG, например, фото из паспорта.
2. Точность поиска. Определяет, насколько лицо на снимке должно быть похоже на лицо на загружаемой фотографии. Если установить минимальное значение (40%), в результатах поиска отобразятся все снимки, которые система распознания лиц определила как похожие. Для значения 100% подходят ранее сохранённые снимки из Ленты событий – АИС отобразит только соответствующее им Событие в результатах поиска.

Сузить результаты поиска можно при помощи фильтров обычного поиска (8.1.1).

### 8.1.1 Расширенный поиск по имени

Для поиска нужно выбрать одного или нескольких сотрудников из списка. Сузить результаты поиска можно при помощи фильтров обычного поиска (8.1.1).

# 9 Администратору / Оператору: Лента машин

Лента машин – это реестр, в котором сохраняются все События, которые АИС создаёт, когда камера наблюдения фиксирует номер ТС. Предусмотрена возможность поиска по Событиям.

Для каждого События в Ленте машин отображается:
* имя Пользователя;
* Компания;
* дата и время создания События с точностью до секунд.

## 9.1 Условия создания События Ленты машин

Камеры наблюдения, подключенные к АИС, фиксируют номер ТС только он попадает в поле обзора камеры наблюдения. Событие создаётся, если номер ТС указан в одном из профилей Пользователей (7.1.6).

## 9.1 Администратору / Оператору: Поиск Событий в Ленте машин

Позволяет искать События по следующим фильтрам:
1. Имя Пользователя. Для поиска нужно выбрать одноги или нескольких Пользователей из списка.
2. Компания. Для поиска нужно выбрать Компанию из списка.
3. Номер авто. Для поиска нужно ввести номер авто в формате «н000нн00». Поиск по части символов номера ТС, например по номеру региона («178») не предусмотрен.
4. Дата и время. Для поиска нужно указать диапазон дат в выпадающем меню и подтвердить выбор («ОК»). АИС позволяет искать все снимки, сделанные камерами в указанное время с точностью до секунд.

# 10 Администратору / Оператору: Архив

В разделе Архив хранятся видеозаписи с камер наблюдения. Есть возможность поиска по видеозаписям и просмотра видео.

# 10.1 Условия создания видеозаписи

Камеры наблюдения, подключенные к АИС, делают запись видео, как только фиксируют движение в поле обзора. Как только движущийся объект исчезает из поля обзора камеры, запись останавливается, а видео сохраняется в Событие архива.

# 10.2  Администратору / Оператору: поиск видеозаписей

Позволяет искать видеозаписи по следующим фильтрам:
1. Дата и время. Для поиска нужно указать диапазон дат в выпадающем меню и подтвердить выбор («ОК»). АИС позволяет искать все видеозаписи, сделанные в указанное время с точностью до секунд.
2. Камера. Для поиска нужно указать одну или несколько Камер из списка.
3. Название События. По умолчанию АИС присваивает Событию стандартное название с порядковым номером. Название может быть изменено при редактировании (10.3).

# 10.3  Администратору / Оператору: просмотр, загрузка и редактирование видеозаписей

При нажатии на Событие в списке, видеозапись откроется в новом окне.
Предусмотрены возможности:
1. Просмотреть видеозапись.
2. Загрузить её на локальный компьютер.
3. Изменить Название События.
